(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{272:function(e,t,n){e.exports=n(465)},463:function(e,t,n){},465:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),i=n(49),r=n.n(i),o=n(87),c=n(259),s=n(234),u=n(16),d=n(30),m=n(31),p=n(33),h=n(32),g=n(34),f=n(15),b=n(17),v=n.n(b),E=n(76),I=n(67),y=n(475),C=n(473),S=n(478);function x(){var e=Object(u.a)(["\n\n    font-weight: bold;\n\n  "]);return x=function(){return e},e}function k(){var e=Object(u.a)(["\n\n    /* border: 1px solid black; */\n\n  "]);return k=function(){return e},e}function w(){var e=Object(u.a)(["\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-wrap: wrap;\n\n  "]);return w=function(){return e},e}function O(){var e=Object(u.a)(["\n\n    font-weight: bold;\n\n  "]);return O=function(){return e},e}function T(){var e=Object(u.a)(["\n\n\n\n  "]);return T=function(){return e},e}function j(){var e=Object(u.a)(["\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-wrap: wrap;\n\n  "]);return j=function(){return e},e}function U(){var e=Object(u.a)(["\n\n    font-weight: bold;\n\n  "]);return U=function(){return e},e}function A(){var e=Object(u.a)(["\n\n    font-weight: bold;\n\n  "]);return A=function(){return e},e}function P(){var e=Object(u.a)(["\n\n\n\n  "]);return P=function(){return e},e}function F(){var e=Object(u.a)(["\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-wrap: wrap;\n\n  "]);return F=function(){return e},e}var R=function(e){var t={fieldContainer:{display:"flex",flexDirection:"column",justifyContent:"flex-end",width:"189px",marginLeft:"7px"}};return l.a.createElement(y.a.Group,null,l.a.createElement("div",{style:t.fieldContainer},l.a.createElement(y.a.Input,{fluid:!0,id:"alert-title-input",name:"alertTitleInput",label:"Alert Title",placeholder:"Title",onChange:e.handleChange,value:e.alertTitleInput.value})),l.a.createElement("div",{style:t.fieldContainer},l.a.createElement(y.a.Input,{fluid:!0,id:"keyword-search-input",name:"keywordSearchInput",label:"Keyword Search",placeholder:"Keyword",onChange:e.handleChange,value:e.keywordSearchInput.value})),l.a.createElement("div",{style:t.fieldContainer},l.a.createElement(y.a.Input,{fluid:!0,id:"category-search-input",name:"categorySearchInput",label:"Category Search",placeholder:"Category",onChange:e.handleChange,value:e.categorySearchInput.value})))},N=function(e){var t=f.a.div(F()),n=f.a.div(P()),a=f.a.label(A()),i=e.sellerTypeRadio.value,r=e.photosRadio.value;return l.a.createElement(t,null,l.a.createElement(n,null,l.a.createElement(a,null,"Seller Type"),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Radio,{id:"seller-type-private-radio",name:"sellerTypeRadio",label:"Private",value:"Private",checked:"Private"===i,onChange:e.handleChange}),l.a.createElement(y.a.Radio,{id:"seller-type-business-radio",name:"sellerTypeRadio",label:"Business",value:"Business",checked:"Business"===i,onChange:e.handleChange}),l.a.createElement(y.a.Radio,{id:"seller-type-all-radio",name:"sellerTypeRadio",label:"All",value:"",checked:""===i,onChange:e.handleChange}))),l.a.createElement(n,null,l.a.createElement(a,null,"Photos"),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Radio,{id:"photos-has-photos-radio",name:"photosRadio",label:"Has Photos",value:"Has Photos",checked:"Has Photos"===r,onChange:e.handleChange}),l.a.createElement(y.a.Radio,{id:"photos-no-photos-radio",name:"photosRadio",label:"No Photos",value:"No Photos",checked:"No Photos"===r,onChange:e.handleChange}),l.a.createElement(y.a.Radio,{id:"photos-all-radio",name:"photosRadio",label:"All",value:"",checked:""===r,onChange:e.handleChange}))))},z=function(e){var t={fieldContainer:{display:"flex",flexDirection:"column",justifyContent:"flex-end",width:"140px",marginLeft:"7px"}},n=f.a.label(U());return l.a.createElement(y.a.Group,null,l.a.createElement("div",{style:t.fieldContainer},l.a.createElement(n,null,"Price Range"),l.a.createElement(C.a,{id:"price-range-from-input",name:"priceRangeFromInput",fluid:!0,label:"$",placeholder:"From",type:"number",value:e.priceRangeFromInput.value,onChange:e.handleChange})),l.a.createElement("div",{style:t.fieldContainer},l.a.createElement(C.a,{id:"price-range-to-input",name:"priceRangeToInput",fluid:!0,label:"$",placeholder:"To",type:"number",value:e.priceRangeToInput.value,onChange:e.handleChange})),l.a.createElement("div",{style:t.fieldContainer},l.a.createElement(y.a.Input,{id:"zip-input",name:"zipInput",fluid:!0,label:"Zip",placeholder:"",value:e.zipInput.value,onChange:e.handleChange})),l.a.createElement("div",{style:t.fieldContainer},l.a.createElement(n,null,"Distance From"),l.a.createElement(S.a,{selection:!0,fluid:!0,options:[{key:"exact",text:"Exact",value:"exact"},{key:"10",text:"10",value:"10"},{key:"25",text:"25",value:"25"},{key:"50",text:"50",value:"50"},{key:"100",text:"100",value:"100"},{key:"150",text:"150",value:"150"},{key:"200",text:"200",value:"200"},{key:"201+",text:"201+",value:"201+"}],value:e.distanceFromDropdown.value||"25",onChange:e.handleDistanceFromDropdownChange})))},D=function(e){var t=f.a.div(j()),n=f.a.div(T()),a=f.a.label(O()),i=e.listingTypeRadio.value;return l.a.createElement(t,null,l.a.createElement(n,null,l.a.createElement(a,null,"Listing Type"),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Radio,{id:"listing-type-for-sale-radio",name:"listingTypeRadio",label:"For Sale",value:"Sale",checked:"Sale"===i,onChange:e.handleChange}),l.a.createElement(y.a.Radio,{id:"listing-type-in-search-of-radio",name:"listingTypeRadio",label:"In Search Of",value:"Wanted",checked:"Wanted"===i,onChange:e.handleChange}),l.a.createElement(y.a.Radio,{id:"listing-type-for-rent-radio",name:"listingTypeRadio",label:"For Rent",value:"Rent",checked:"Rent"===i,onChange:e.handleChange}),l.a.createElement(y.a.Radio,{id:"listing-type-all-radio",name:"listingTypeRadio",label:"All",value:"",checked:""===i,onChange:e.handleChange}))))},B=function(e){var t=f.a.div(w()),n=f.a.div(k()),a=f.a.label(x()),i=e.listingPostedRadio.value;return l.a.createElement(t,null,l.a.createElement(n,null,l.a.createElement(a,null,"Listing Posted"),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Radio,{id:"listing-posted-1-hour-radio",name:"listingPostedRadio",label:"1 Hour",value:"1HOUR",checked:"1HOUR"===i,onChange:e.handleChange}),l.a.createElement(y.a.Radio,{id:"listing-posted-1-day-radio",name:"listingPostedRadio",label:"1 Day",value:"1DAY",checked:"1DAY"===i,onChange:e.handleChange}),l.a.createElement(y.a.Radio,{id:"listing-posted-7-days-radio",name:"listingPostedRadio",label:"7 Days",value:"7DAYS",checked:"7DAYS"===i,onChange:e.handleChange}),l.a.createElement(y.a.Radio,{id:"listing-posted-30-days-radio",name:"listingPostedRadio",label:"30 Days",value:"30DAYS",checked:"30DAYS"===i,onChange:e.handleChange}),l.a.createElement(y.a.Radio,{id:"listing-posted-all-radio",name:"listingPostedRadio",label:"All",value:"",checked:""===i,onChange:e.handleChange}))),l.a.createElement(n,null,l.a.createElement(y.a.Button,{type:"submit",onClick:e.handleSubmit},"Create")))},H=function(e){return l.a.createElement(y.a,{size:e.mobile?"tiny":"small",style:{display:"flex",flexDirection:"column",alignSelf:"center"}},l.a.createElement(R,e),l.a.createElement(N,e),l.a.createElement(z,e),l.a.createElement(D,e),l.a.createElement(B,e))},V=n(51),M=n(483);function L(){var e=Object(u.a)(["\n\n  background: transparent;\n\n"]);return L=function(){return e},e}var G=function(e){var t=e.sections;return l.a.createElement(M.a,{as:W},function(e){return e.map(function(t,n){return l.a.createElement(M.a.Section,{key:n,link:n!==e.length-1,active:n===e.length-1,onClick:n===e.length-1?null:function(e){alert(t.name)}},t.name,n!==e.length-1&&l.a.createElement(M.a.Divider,{icon:"right angle"}))})}(t))},W=f.a.div(L());function _(){var e=Object(u.a)(["\n\n  /* border: 1px solid black; */\n  height: 60px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return _=function(){return e},e}var Y=function(e){return l.a.createElement(K,null,l.a.createElement(G,{sections:[{name:"Create Alert"},{name:"Alert"},{name:"Couch"}]}),l.a.createElement(V.a,{name:"bell",size:"large",fitted:!0}))},K=f.a.div(_()),Z=n(261),J=n(482);function $(){var e=Object(u.a)(["\n  color: white;\n"]);return $=function(){return e},e}function q(){var e=Object(u.a)(["\n  height: 60px;\n  /* border: 1px solid white; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return q=function(){return e},e}function Q(){var e=Object(u.a)(["\n\n\n\n  "]);return Q=function(){return e},e}var X=function(e){var t=f.a.span(Q());return l.a.createElement(l.a.Fragment,null,l.a.createElement(Z.a.Item,{style:{minWidth:"0"},onClick:function(t,n){e.signOut?(e.signOut(),document.querySelector("#sidebar-Home-link").click()):document.querySelector("#sidebar-".concat(e.path,"-link")).click()},as:"a"},l.a.createElement(V.a,{size:"big",name:e.icon}),l.a.createElement(t,{hidden:e.mobile},e.text)),l.a.createElement(E.c,{hidden:!0,id:"sidebar-".concat(e.path,"-link"),to:e.path}))},ee=function(e){var t=e.mobile?"very thin":"thin",n=e.signedIn?[{icon:"home",text:"Home",path:"Home"},{icon:"exclamation",text:"Alert Feed",path:"AlertFeed"},{icon:"plus",text:"Create Alert",path:"CreateAlert"},{icon:"cog",text:"Settings",path:"Settings"},{icon:"sign-out",text:"Sign Out",path:""}]:[{icon:"home",text:"Home",path:"Home"},{icon:"sign-in",text:"Sign In",path:"SignIn"},{icon:"signup",text:"Sign Up",path:"SignUp"}];return l.a.createElement(J.a,{as:Z.a,animation:"push",direction:"left",icon:"labeled",inverted:!0,vertical:!0,visible:!0,width:t},l.a.createElement(te,null,l.a.createElement(ne,{hidden:e.mobile},"Alertifi")),n.map(function(t,n){return l.a.createElement(X,Object.assign({key:n},e,t,{signOut:"Sign Out"===t.text?e.signOut:null}))}))},te=f.a.div(q()),ne=f.a.h2($()),ae=n(162),le=n(466),ie={segment:{padding:"20px 40px",alignSelf:"center"},formHeader:{fontSize:"24px"},inputContainer:{width:"220px"},buttonContainer:{width:"220px",marginTop:"25px"},label:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},error:{fontWeight:"normal",fontSize:"12px",fontStyle:"italic"}},re=function(e){return l.a.createElement(ae.a,{style:ie.segment},l.a.createElement(y.a,null,l.a.createElement("h2",{style:ie.formHeader},"Sign Up"),l.a.createElement(y.a.Field,{style:ie.inputContainer,error:e.signUpUsernameInput.error},l.a.createElement("label",{style:ie.label},"Username",l.a.createElement("span",{style:ie.error,hidden:e.signUpUsernameInput.label.hidden},e.signUpUsernameInput.label.value)),l.a.createElement(C.a,{id:"sign-up-username-input",name:"signUpUsernameInput",fluid:!0,placeholder:"Enter a username",type:"text",icon:function(){return l.a.createElement(V.a,{color:e.signUpUsernameInput.icon.color||"black",name:e.signUpUsernameInput.icon.name||"user"})},value:e.signUpUsernameInput.value,onChange:e.handleChange,onBlur:e.handleBlur,loading:e.signUpUsernameInput.loading})),l.a.createElement(y.a.Field,{style:ie.inputContainer,error:e.signUpEmailInput.error},l.a.createElement("label",{style:ie.label},"Email",l.a.createElement("span",{style:ie.error,hidden:e.signUpEmailInput.label.hidden},e.signUpEmailInput.label.value)),l.a.createElement(C.a,{id:"sign-up-email-input",name:"signUpEmailInput",fluid:!0,placeholder:"Enter your email",type:"email",icon:function(){return l.a.createElement(V.a,{color:e.signUpEmailInput.icon.color||"black",name:e.signUpEmailInput.icon.name||"mail"})},value:e.signUpEmailInput.value,onChange:e.handleChange,onBlur:e.handleBlur,loading:e.signUpEmailInput.loading})),l.a.createElement(y.a.Field,{style:ie.inputContainer,error:e.signUpPasswordInput.error},l.a.createElement("label",{style:ie.label},"Password",l.a.createElement("span",{style:ie.error,hidden:e.signUpPasswordInput.label.hidden},e.signUpPasswordInput.label.value)),l.a.createElement(C.a,{id:"sign-up-password-input",name:"signUpPasswordInput",fluid:!0,placeholder:"Enter a password",type:"password",icon:function(){return l.a.createElement(V.a,{color:e.signUpPasswordInput.icon.color||"black",name:e.signUpPasswordInput.icon.name||"lock"})},value:e.signUpPasswordInput.value,onChange:e.handleChange,onBlur:e.handleBlur,loading:e.signUpPasswordInput.loading})),l.a.createElement(y.a.Field,{style:ie.buttonContainer},l.a.createElement(le.a,{id:"alertifi-register-button",name:"alertifiRegisterButton",content:"Register",fluid:!0,positive:!0,icon:"signup",labelPosition:"left",onClick:e.handleSubmit,disabled:e.registerButton.disabled}))))},oe=n(474),ce={segment:{padding:"20px 40px",alignSelf:"center"},formHeader:{fontSize:"24px"},inputContainer:{width:"220px"},buttonContainer:{width:"220px",marginTop:"25px"},forgotPassword:{margin:"0px 0px 5px 0px",textAlign:"center",fontSize:"12px"},createAccount:{margin:"0px",textAlign:"center",fontSize:"12px"},label:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},error:{fontWeight:"normal",fontSize:"12px",fontStyle:"italic"},dividerContainer:{width:"220px",display:"block"}},se=function(e){return l.a.createElement(ae.a,{style:ce.segment},l.a.createElement(y.a,null,l.a.createElement("h2",{style:ce.formHeader},"Sign In"),l.a.createElement(y.a.Field,{style:ce.inputContainer,error:e.signInEmailInput.error},l.a.createElement("label",{style:ce.label},"Email",l.a.createElement("span",{style:ce.error,hidden:e.signInEmailInput.label.hidden},e.signInEmailInput.label.value)),l.a.createElement(C.a,{id:"sign-in-email-input",name:"signInEmailInput",fluid:!0,placeholder:"Enter your email",type:"email",icon:function(){return l.a.createElement(V.a,{color:e.signInEmailInput.icon.color,name:e.signInEmailInput.icon.name||"mail"})},value:e.signInEmailInput.value,onChange:e.handleChange,onBlur:e.handleBlur,loading:e.signInEmailInput.loading})),l.a.createElement(y.a.Field,{style:ce.inputContainer,error:e.signInPasswordInput.error},l.a.createElement("label",{style:ce.label},"Password",l.a.createElement("span",{style:ce.error,hidden:e.signInPasswordInput.label.hidden},e.signInPasswordInput.label.value)),l.a.createElement(C.a,{id:"sign-in-password-input",name:"signInPasswordInput",fluid:!0,placeholder:"Enter your password",type:"password",icon:function(){return l.a.createElement(V.a,{color:e.signInPasswordInput.icon.color,name:e.signInPasswordInput.icon.name||"lock"})},value:e.signInPasswordInput.value,onChange:e.handleChange,onBlur:e.handleBlur,loading:e.signInPasswordInput.loading})),l.a.createElement(y.a.Field,{style:ce.buttonContainer},l.a.createElement(le.a,{id:"alertifi-sign-in-button",name:"alertifiSignInButton",content:"Sign In",fluid:!0,positive:!0,icon:"sign-in",labelPosition:"left",onClick:e.handleSubmit,disabled:e.signInButton.disabled})),l.a.createElement("p",{style:ce.forgotPassword},l.a.createElement("a",{href:"#"},"Forgot Password")),l.a.createElement("p",{style:ce.createAccount},"Not Registered? ",l.a.createElement(E.b,{to:"/SignUp"},"Create an Account")),l.a.createElement("span",{style:ce.dividerContainer},l.a.createElement(oe.a,{horizontal:!0},"OR"))),l.a.createElement(ye,{handleSubmit:e.handleSubmit}))};function ue(){var e=Object(u.a)(["\n\n  padding-left: 20px;\n  pointer-events:none;\n  \n"]);return ue=function(){return e},e}function de(){var e=Object(u.a)(["\n\n  padding: 10px 10px 10px 5px;\n  border-right: 1px solid rgba(0,0,0,0.2);\n  pointer-events:none;\n\n"]);return de=function(){return e},e}function me(){var e=Object(u.a)(["\n\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  width: 220px;\n  border-radius: 3px;\n  border: 1px solid rgba(0,0,0,0.2);\n  background-color: #555;\n  color: #fff;\n  &:hover {\n    background-color: #444;\n  }\n  outline: none;\n\n"]);return me=function(){return e},e}function pe(){var e=Object(u.a)(["\n\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  width: 220px;\n  border-radius: 3px;\n  border: 1px solid rgba(0,0,0,0.2);\n  background-color: #dd4b39;\n  color: #fff;\n  &:hover {\n    background-color: #ca3926;\n  }\n  outline: none;\n\n"]);return pe=function(){return e},e}function he(){var e=Object(u.a)(["\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  min-height: 90px;\n\n"]);return he=function(){return e},e}var ge=f.a.div(he()),fe=f.a.button(pe()),be=f.a.button(me()),ve=f.a.i(de()),Ee=f.a.span(ue());function Ie(){var e=Object(u.a)(["\n\n  // border: 1px solid black;\n  /* max-width: 600px; */\n  // align-self: center;\n\n"]);return Ie=function(){return e},e}var ye=function(e){return l.a.createElement(ge,null,l.a.createElement(fe,{id:"google-sign-in-button",name:"googleSignInButton",onClick:e.handleSubmit},l.a.createElement(ve,{className:"fab fa-google fa-lg"}),l.a.createElement(Ee,null,"Sign in with Google")),l.a.createElement(be,{id:"github-sign-in-button",name:"gitHubSignInButton",onClick:e.handleSubmit},l.a.createElement(ve,{className:"fab fa-github fa-lg"}),l.a.createElement(Ee,null,"Sign in with GitHub")))},Ce=(f.a.form(Ie()),n(476)),Se=n(477),xe=n(35),ke={modalContainerStandard:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"space-between",height:"480px",maxWidth:"400px"},modalContainerPremium:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"space-between",height:"235px",maxWidth:"400px"},modalHeader:{fontSize:"24px",textAlign:"center"},modalContent:{margin:"20px 0px",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},modalContentHeader:{textAlign:"center",fontSize:"18px",lineHeight:"1.4"},modalContentPremiumButton:{marginTop:"15px",width:"160px"},modalActions:{flex:"1"},modalActionsCloseButton:{},paymentIcon:{marginRight:"10px"},listItem:{display:"flex",justifyContent:"space-between",padding:"10px"},listIcon:{fontSize:"22px",paddingTop:"3px"},listContent:{fontSize:"18px"}},we=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ce.a.Content,null,l.a.createElement("div",{style:ke.modalContent},l.a.createElement("h3",{style:ke.modalContentHeader},"Get unlimited access to all Alertifi features when you sign up for a premium membership"),l.a.createElement(Se.a,{relaxed:!0},l.a.createElement(Se.a.Item,{style:ke.listItem},l.a.createElement(Se.a.Icon,{name:"bullhorn",style:ke.listIcon}),l.a.createElement(Se.a.Content,{style:ke.listContent},"Premium Feature One")),l.a.createElement(Se.a.Item,{style:ke.listItem},l.a.createElement(Se.a.Icon,{name:"calendar alternate",style:ke.listIcon}),l.a.createElement(Se.a.Content,{style:ke.listContent},"Premium Feature Two")),l.a.createElement(Se.a.Item,{style:ke.listItem},l.a.createElement(Se.a.Icon,{name:"globe",style:ke.listIcon}),l.a.createElement(Se.a.Content,{style:ke.listContent},"Premium Feature Three"))),l.a.createElement(le.a,{positive:!0,style:ke.modalContentPremiumButton,onClick:e.handleClick},"Go Premium!"))),l.a.createElement(Ce.a.Actions,null,l.a.createElement(le.a,{negative:!0,style:ke.modalActionsCloseButton,onClick:e.handleClose},"Close")))},Oe=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ce.a.Content,null,l.a.createElement("div",{style:ke.modalContent},l.a.createElement("h3",{style:ke.modalContentHeader},"Thank you for being a premium member!"))),l.a.createElement(Ce.a.Actions,null,l.a.createElement(le.a,{positive:!0,style:ke.modalActionsCloseButton,onClick:e.handleClose},"Ok")))},Te=function(e){return l.a.createElement(Ce.a,{id:"signed-in-modal",name:"signedInModal",style:"standard"===e.user.accountType?ke.modalContainerStandard:ke.modalContainerPremium,open:e.signedInModal.open,closeOnEscape:!1,closeOnDimmerClick:!1,closeIcon:!1},l.a.createElement(Ce.a.Header,{style:ke.modalHeader},"Welcome to Alertifi!"),"standard"===e.user.accountType&&l.a.createElement(we,{handleClick:e.handleGoPremiumClick,handleClose:e.handleClose}),"premium"===e.user.accountType&&l.a.createElement(Oe,{handleClose:e.handleClose}))},je="https://accounts.google.com/.well-known/openid-configuration",Ue="https://github.com/login/oauth/authorize?client_id=c84d67635ddb8666ae5a",Ae="https://accounts.google.com/o/oauth2/v2/auth?client_id=".concat("306711972964-k2d2prmru9ojjbg1v584toic2gdu54ht.apps.googleusercontent.com","&response_type=code&scope=openid email profile"),Pe="http://localhost:8080",Fe=(window.location.origin,Object(xe.injectStripe)(function(e){return l.a.createElement("div",{className:"checkout"},l.a.createElement("p",null,"Would you like to complete the purchase?"),l.a.createElement(xe.CardElement,null),l.a.createElement("button",{onClick:function(t){t.preventDefault();var n=e.user,a=n.username,l=n.email,i=e.authorization.type;e.stripe.createToken({name:"Jenny Rosen"}).then(function(t){var n=t.token;v()({method:"post",url:Pe+"/api/users/payment",headers:{Authorization:e.authorization.token},data:{authType:i,username:a,email:l,tokenId:n.id}}).then(function(e){console.log(e.data)}).catch(console.log)}).catch(console.log)}},"Send"))}),n(463),Object(xe.injectStripe)(function(e){return l.a.createElement(y.a,{className:"premium-form",loading:e.premiumForm.loading},l.a.createElement("div",{className:"premium-form-group"},l.a.createElement(y.a.Input,{id:"premium-form-name-input",name:"premiumFormNameInput",fluid:!0,placeholder:"Name on card",label:"Name on card",className:"premium-form-name-input",type:"text",onChange:e.handleChange,value:e.premiumFormNameInput.value})),l.a.createElement("div",{className:"premium-form-group"},l.a.createElement("div",null,l.a.createElement("label",null,"Card Number"),l.a.createElement(xe.CardNumberElement,{className:"premium-form-input premium-form-card-element",placeholder:"#### #### #### ####"})),l.a.createElement("div",null,l.a.createElement("label",null,"Exp. Date"),l.a.createElement(xe.CardExpiryElement,{className:"premium-form-input premium-form-expiry-element"}))),l.a.createElement("div",{className:"premium-form-group"},l.a.createElement("div",null,l.a.createElement("label",null,"Zip"),l.a.createElement(xe.PostalCodeElement,{placeholder:"Zip",className:"premium-form-input premium-form-postal-code-element"})),l.a.createElement("div",null,l.a.createElement("label",null,"CVC"),l.a.createElement(xe.CardCVCElement,{className:"premium-form-input premium-form-cvc-element"}))),l.a.createElement("div",{className:"premium-form-total"},l.a.createElement("span",null,"Total: "),l.a.createElement("span",null,"$",e.premiumForm.price/100)),l.a.createElement("div",{className:"premium-form-group"},l.a.createElement(le.a,{id:"premium-form-submit-button",name:"premiumFormSubmitButton",className:"premium-form-submit-button",content:"Submit",type:"submit",primary:!0,loading:e.premiumFormSubmitButton.loading,disabled:e.premiumFormSubmitButton.disabled,onClick:function(t){return e.handleSubmit(t,e.stripe)}})))})),Re={modalContainer:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"space-between",height:"440px",maxWidth:"380px"},modalHeader:{display:"flex",alignItems:"center",justifyContent:"space-between"},modalTitle:{display:"inline",fontSize:"22px",marginLeft:"10px"},closeIcon:{cursor:"pointer"},modalContent:{margin:"20px 0px",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},modalContentHeader:{textAlign:"center",fontSize:"18px"},modalContentPremiumButton:{width:"160px"},modalActions:{flex:"1"},modalActionsCloseButton:{},paymentIcon:{marginRight:"10px"}},Ne=function(e){return l.a.createElement(Ce.a,{id:"billing-modal",name:"billingModal",style:Re.modalContainer,open:e.billingModal.open,closeOnEscape:!1,closeOnDimmerClick:!1,closeIcon:!1,onClose:e.handleClose},l.a.createElement(Ce.a.Header,{style:Re.modalHeader},l.a.createElement("div",null,l.a.createElement(V.a,{style:Re.headerIcon,name:"payment"}),l.a.createElement("h2",{style:Re.modalTitle},"Payment Information")),l.a.createElement(V.a,{fitted:!0,style:Re.closeIcon,name:"close",onClick:e.handleClose})),l.a.createElement(Ce.a.Content,null,l.a.createElement(xe.StripeProvider,{apiKey:"pk_test_5S7b3sU9cayM2p0lyZCGZR5e00mmeHbCML"},l.a.createElement(xe.Elements,null,l.a.createElement(Fe,Object.assign({},e,{handleChange:e.handleChange,handleSubmit:e.handleSubmit,handlePaymentSuccessModal:e.handlePaymentSuccessModal}))))))},ze={modalContainer:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"space-between",height:"240px",maxWidth:"400px"},modalHeader:{fontSize:"24px",textAlign:"center"},modalContent:{margin:"20px 0px",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},modalContentHeader:{textAlign:"center",fontSize:"18px",lineHeight:"1.4"}},De=function(e){return l.a.createElement(Ce.a,{style:ze.modalContainer,open:e.paymentSuccessModal.open},l.a.createElement(Ce.a.Header,{style:ze.modalHeader},"Success!"),l.a.createElement(Ce.a.Content,{style:ze.modalContent},l.a.createElement("h3",null,"Thank you for becoming a premium member")),l.a.createElement(Ce.a.Actions,null,l.a.createElement(le.a,{primary:!0,onClick:e.handleClose},"Ok")))},Be=n(480),He={settingsTabsContainer:{flex:"1"}},Ve=function(e){return l.a.createElement(Be.a.Pane,null,"Account Settings")},Me=function(e){return l.a.createElement(Be.a.Pane,null,"Billing Settings")},Le=function(e){return l.a.createElement(Be.a.Pane,null,"Interface Settings")},Ge=function(e){var t=[{menuItem:"Account",render:Ve},{menuItem:"Billing",render:Me},{menuItem:"Interface",render:Le}];return l.a.createElement(ae.a,{style:He.settingsTabsContainer},l.a.createElement(Be.a,{menu:{fluid:!0,vertical:!0,tabular:!0},panes:t}))},We=n(479),_e=n(260),Ye={alertFeedContainer:{flex:"1",padding:"40px"},alertFeedItemsContainer:{marginTop:"40px"},alertFeedItem:{display:"inline",width:"300px",height:"428px"},alertFeedItemImage:{height:"225.90px"},alertFeedItemDescription:{height:"84px"},alertFeedItemPrice:{fontWeight:"bold",fontSize:"16px",flex:"1",height:"100%"},alertFeedItemSellerType:{fontWeight:"bold",fontSize:"16px",height:"100%"},alertFeedItemExtra:{padding:"10px 10px 3px 10px",display:"flex",flex:"1",justifyContent:"space-between"}},Ke=function(e){return console.log(e),l.a.createElement(We.a,{link:!0,style:Ye.alertFeedItem},l.a.createElement(_e.a,{src:e.images[0].large,style:Ye.alertFeedItemImage}),l.a.createElement(We.a.Content,null,l.a.createElement(We.a.Header,null,e.listingDetails.title),l.a.createElement(We.a.Meta,null,e.listingDetails.location),l.a.createElement(We.a.Description,{style:Ye.alertFeedItemDescription},e.listingDetails.description)),l.a.createElement(We.a.Content,{extra:!0,style:Ye.alertFeedItemExtra},l.a.createElement("p",{style:Ye.alertFeedItemPrice},e.listingDetails.price),l.a.createElement("p",{style:Ye.alertFeedItemSellerType},e.pageStats.sellerType)))},Ze=function(e){var t=e.user.alerts.map(function(e,t){return{key:t,text:e.title,value:t}});return l.a.createElement(ae.a,{style:Ye.alertFeedContainer},l.a.createElement(S.a,{id:"alert-feed-dropdown",name:"alertFeedDropdown",search:!0,selection:!0,options:t,placeholder:"Alert Title",onChange:e.handleAlertSelect,value:e.alertFeedDropdown.value}),l.a.createElement(We.a.Group,{style:Ye.alertFeedItemsContainer},function(){if(e.user.alerts[0].title)return e.user.alerts[e.alertFeedDropdown.value].items.map(function(e,t){return l.a.createElement(Ke,Object.assign({key:t},e))})}()))},Je=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,"Home")}}]),t}(a.Component),$e=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleAlertSelect=function(e,t){var a=t.value;n.setState({alertFeedDropdown:{value:a}})},n.state={alertFeedDropdown:{value:0}},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ze,Object.assign({},this.props,this.state,{handleAlertSelect:this.handleAlertSelect})))}}]),t}(a.Component),qe=n(21),Qe=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(qe.a)({},e.target.name,{value:e.target.value}))},n.handleDistanceFromDropdownChange=function(e,t){var a=t.value;n.setState({distanceFromDropdown:{value:a}})},n.handleSubmit=function(e){e.preventDefault();var t=n.props.authorization.token,a=n.props.authorization.type,l=n.props.user,i=l.username,r=l.email,o="https://classifieds.ksl.com/search?category[]=".concat(n.state.categorySearchInput.value,"&subCategory[]=&keyword=").concat(n.state.keywordSearchInput.value,"&priceFrom=").concat(n.state.priceRangeFromInput.value,"&priceTo=").concat(n.state.priceRangeToInput.value,"&zip=").concat(n.state.zipInput.value,"&miles=").concat(n.state.distanceFromDropdown.value,"&sellerType[]=").concat(n.state.sellerTypeRadio.value,"&marketType[]=").concat(n.state.listingTypeRadio.value,"&hasPhotos[]=").concat(n.state.photosRadio.value,"&postedTime[]=").concat(n.state.listingPostedRadio.value);v()({method:"post",url:Pe+"/api/alerts/create",headers:{Authorization:t},data:{username:i,email:r,authType:a,alert:{title:n.state.alertTitleInput.value,urlQuery:o}}}).then(function(e){console.log(e.data)}).catch(console.log)},n.state={alertTitleInput:{value:""},keywordSearchInput:{value:""},categorySearchInput:{value:""},priceRangeFromInput:{value:""},priceRangeToInput:{value:""},zipInput:{value:""},distanceFromDropdown:{value:"25"},sellerTypeRadio:{value:""},photosRadio:{value:""},listingTypeRadio:{value:""},listingPostedRadio:{value:""}},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement(ae.a,{style:{flex:"1",display:"flex",justifyContent:"center"}},l.a.createElement(H,Object.assign({},this.state,this.props,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,handleDistanceFromDropdownChange:this.handleDistanceFromDropdownChange})))}}]),t}(a.Component),Xe=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ge,Object.assign({},this.state,this.props)))}}]),t}(a.Component),et=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleError=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=n.state[e].value;t?n.setState(Object(qe.a)({},e,{value:l,error:t,icon:{name:"close",color:"red"},label:{value:a,hidden:!1},loading:!1})):n.setState(Object(qe.a)({},e,{value:l,error:t,icon:{name:"",color:"black"},label:{value:"",hidden:!0},loading:!1}))},n.handleLabel=function(e,t,a){var l=n.state[e],i=l.error,r=l.value,o=l.icon;n.setState(Object(qe.a)({},e,{value:r,error:i,icon:o,label:{value:t,hidden:a}}))},n.checkEmail=function(e,t){setTimeout(function(){v()({method:"post",url:Pe+"/api/users/email-check",data:{email:e}}).then(function(e){var n=e.data,a=n.isValid,l=n.message;t(a,l)}).catch(console.log)},200)},n.checkPassword=function(e,t,n){setTimeout(function(){v()({method:"post",url:Pe+"/api/users/password-check",data:{email:e,password:t}}).then(function(e){var t=e.data,a=t.isValid,l=t.message;n(a,l)}).catch(console.log)},200)},n.checkUsername=function(e,t){setTimeout(function(){v()({method:"post",url:Pe+"/api/users/username-check",data:{username:e}}).then(function(e){var n=e.data,a=n.inUse,l=n.message;t(a,l)}).catch(console.log)},200)},n.validateUsername=function(e,t){v()({method:"post",url:Pe+"/api/users/username-validate",data:{username:e}}).then(function(e){var n=e.data,a=n.isValid,l=n.message;t(a,l)}).catch(console.log)},n.validatePassword=function(e,t){setTimeout(function(){v()({method:"post",url:Pe+"/api/users/password-validate",data:{password:e}}).then(function(e){var n=e.data,a=n.isValid,l=n.message;t(a,l)}).catch(console.log)},200)},n.validateEmail=function(e,t){v()({method:"post",url:Pe+"/api/users/email-validate",data:{email:e}}).then(function(e){var n=e.data,a=n.message,l=n.isValid;t(a,l)}).catch(console.log)},n.handleBlur=function(e){var t=e.target.name,a=n.state[t].value,l=n.state[t],i=l.value,r=(l.error,l.icon);l.label,l.loading;if(""===a)n.handleError(t,!0,"Please enter a value");else switch(n.setState(Object(qe.a)({},t,{value:i,error:!1,label:{value:"",hidden:!0},icon:r,loading:!0})),t){case"signInEmailInput":var o=n.state.signInEmailInput.value;n.checkEmail(o,function(e,a){e?n.setState(Object(qe.a)({},t,{value:i,error:!1,label:{value:"",hidden:!0},icon:{name:"check",color:"green"},loading:!1,isValid:!0})):n.setState(Object(qe.a)({},t,{value:i,error:!0,label:{value:a,hidden:!1},icon:{name:"close",color:"red"},loading:!1,isValid:!1}))});break;case"signInPasswordInput":var c=n.state.signInEmailInput.value,s=n.state.signInPasswordInput.value;n.checkPassword(c,s,function(e,a){var l;e?n.setState(Object(qe.a)({},t,{value:i,error:!1,label:{value:"",hidden:!0},icon:{name:"check",color:"green"},loading:!1,isValid:!0})):n.setState((l={},Object(qe.a)(l,t,{value:i,error:!0,label:{value:a,hidden:!1},icon:{name:"close",color:"red"},loading:!1,isValid:!1}),Object(qe.a)(l,"signInButton",{disabled:!0}),l))});break;case"signUpEmailInput":var u=n.state.signUpEmailInput.value;n.checkEmail(u,function(e,a){e?n.setState(Object(qe.a)({},t,{value:i,error:!0,label:{value:a,hidden:!1},icon:{name:"close",color:"red"},loading:!1,isValid:!1})):n.validateEmail(u,function(e,a){a?n.setState(Object(qe.a)({},t,{value:i,error:!1,label:{value:"",hidden:!0},icon:{name:"check",color:"green"},loading:!1,isValid:!0})):n.setState(Object(qe.a)({},t,{value:i,error:!0,label:{value:e,hidden:!1},icon:{name:"close",color:"red"},loading:!1,isValid:!1}))})});break;case"signUpUsernameInput":var d=n.state.signUpUsernameInput.value;n.checkUsername(d,function(e,a){e?n.setState(Object(qe.a)({},t,{value:i,error:!0,label:{value:a,hidden:!1},icon:{name:"close",color:"red"},loading:!1,isValid:!1})):n.validateUsername(d,function(e,a){e?n.setState(Object(qe.a)({},t,{value:i,error:!1,label:{value:"",hidden:!0},icon:{name:"check",color:"green"},loading:!1,isValid:!0})):n.setState(Object(qe.a)({},t,{value:i,error:!0,label:{value:a,hidden:!1},icon:{name:"close",color:"red"},loading:!1,isValid:!1}))})});break;case"signUpPasswordInput":var m=n.state.signUpPasswordInput.value;n.validatePassword(m,function(e,a){var l;e?n.setState(Object(qe.a)({},t,{value:i,error:!1,label:{value:"",hidden:!0},icon:{name:"check",color:"green"},loading:!1,isValid:!0})):n.setState((l={},Object(qe.a)(l,t,{value:i,error:!0,label:{value:a,hidden:!1},icon:{name:"close",color:"red"},loading:!1,isValid:!1}),Object(qe.a)(l,"registerButton",{disabled:!0}),l))})}},n.handleChange=function(e){var t=e.target.name,a=e.target.value,l=n.state[t];l.error,l.icon,l.label;n.setState(Object(qe.a)({},t,{value:a,error:!1,icon:{name:"",color:"black"},label:{value:"",hidden:!0},loading:!1})),"signInPasswordInput"===t&&""!==a&&n.state.signInEmailInput.isValid?n.setState({signInButton:{disabled:!1}}):n.setState({signInButton:{disabled:!0}}),"signUpPasswordInput"===t&&""!==a&&n.state.signUpUsernameInput.isValid&&n.state.signUpEmailInput.isValid?n.setState({registerButton:{disabled:!1}}):n.setState({registerButton:{disabled:!0}})},n.handleSignUp=function(e,t){switch(e.target.name){case"alertifiRegisterButton":var a=n.state.signUpUsernameInput.isValid,l=n.state.signUpEmailInput.isValid,i=n.state.signUpPasswordInput.isValid;a&&l&&i&&v.a.post(Pe+"/api/users/signup",t).then(function(e){var t=e.data,a=(t.sent,t.message);alert(a),n.setState({signUpUsernameInput:{value:"",error:!1,icon:{name:"",color:"black"},label:{value:"",hidden:!0},loading:!1,isValid:!1},signUpEmailInput:{value:"",error:!1,icon:{name:"",color:"black"},label:{value:"",hidden:!0},loading:!1,isValid:!1},signUpPasswordInput:{value:"",error:!1,icon:{name:"",color:"black"},label:{value:"",hidden:!0},loading:!1,isValid:!1},registerButton:{disabled:!0}})}).catch(function(e){console.log(e)});break;case"googleSignInButton":window.location.href="".concat(Ae,"&redirect_uri=").concat(Pe,"/oauth/google/redirect");break;case"gitHubSignInButton":window.location.href="".concat(Ue,"&redirect_uri=").concat(Pe,"/oauth/github/redirect")}},n.handleSubmit=function(e){e.preventDefault();var t=n.props.renderForm;"SignUp"===t&&n.handleSignUp(e,{username:n.state.signUpUsernameInput.value,email:n.state.signUpEmailInput.value,password:n.state.signUpPasswordInput.value}),"SignIn"===t&&n.handleSignIn(e,{email:n.state.signInEmailInput.value,password:n.state.signInPasswordInput.value})},n.handleSignIn=function(e,t){switch(e.target.name){case"alertifiSignInButton":var a=n.state.signInEmailInput.isValid,l=n.state.signInPasswordInput.isValid;a&&l&&v.a.post(Pe+"/api/users/signin",t).then(function(e){var t={type:"alertifi",token:e.data.token};n.props.authenticate(t)}).catch(console.log);break;case"googleSignInButton":window.location.href="".concat(Ae,"&redirect_uri=").concat(Pe,"/oauth/google/redirect");break;case"gitHubSignInButton":window.location.href="".concat(Ue,"&redirect_uri=").concat(Pe,"/oauth/github/redirect")}},n.state={renderForm:n.props.renderForm,signInForm:{loading:!1},signInEmailInput:{value:"",error:!1,icon:{name:"",color:"black"},label:{value:"Test label",hidden:!0},loading:!1,isValid:!1},signInPasswordInput:{value:"",error:!1,icon:{name:"",color:"black"},label:{value:"Test label",hidden:!0},loading:!1,isValid:!1},signInButton:{disabled:!0},signUpUsernameInput:{value:"",error:!1,icon:{name:"",color:"black"},label:{value:"",hidden:!0},loading:!1,isValid:!1},signUpEmailInput:{value:"",error:!1,icon:{name:"",color:"black"},label:{value:"",hidden:!0},loading:!1,isValid:!1},signUpPasswordInput:{value:"",error:!1,icon:{name:"",color:"black"},label:{value:"",hidden:!0},loading:!1,isValid:!1},signUpReTypePasswordInput:{value:"",error:!1,icon:{name:"",color:"black"},label:{value:"",hidden:!0},loading:!1,isValid:!1},registerButton:{disabled:!0}},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.state.renderForm,t={handleError:this.handleError,handleChange:this.handleChange,handleSubmit:this.handleSubmit,handleBlur:this.handleBlur};return l.a.createElement(l.a.Fragment,null,"SignIn"===e&&l.a.createElement(se,Object.assign({},this.state,t)),"SignUp"===e&&l.a.createElement(re,Object.assign({},this.state,t)))}}]),t}(a.Component),tt=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(qe.a)({},e.target.name,{value:e.target.value}))},n.handleSignedInModal=function(e){var t=n.state.signedInModal.open;n.setState({signedInModal:{open:!t}})},n.handleBillingModal=function(e){var t=n.state.billingModal.open;n.setState({billingModal:{open:!t}})},n.handleGoPremiumClick=function(e){n.setState({signedInModal:{open:!1},billingModal:{open:!0}})},n.handlePremiumFormSubmit=function(e,t){e.preventDefault();var a=n.state.premiumForm.price;n.setState({premiumForm:{loading:!0,price:a}}),t.createToken({name:n.state.premiumFormNameInput.value}).then(function(e){var t=n.props.authorization.type,l=n.props.authorization.token,i=n.props.user,r=i.username,o=i.email,c=n.state.premiumForm.price;v()({method:"post",url:"".concat(Pe,"/api/users/payment"),headers:{Authorization:l},data:{username:r,email:o,authType:t,charge:{tokenId:e.token.id,amount:c}}}).then(function(e){n.setState({premiumForm:{loading:!1,price:a}});var t=e.data.status;console.log(e.data),"succeeded"===t?n.setState({billingModal:{open:!1},paymentSuccessModal:{open:!0}}):alert("There was an issue processing your payment")}).catch(console.log)}).catch(console.log)},n.handlePayementSuccessModal=function(e){var t=n.state.paymentSuccessModal.open;n.setState({paymentSuccessModal:{open:!t}})},n.state={signedInModal:{open:!1},billingModal:{open:!1},paymentSuccessModal:{open:!1},premiumForm:{price:799,loading:!1},premiumFormNameInput:{value:""},premiumFormSubmitButton:{disabled:!1}},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.getSearchParams().success&&this.setState({signedInModal:{open:!0}})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Te,Object.assign({},this.props,this.state,{handleClose:this.handleSignedInModal,handleGoPremiumClick:this.handleGoPremiumClick})),l.a.createElement(Ne,Object.assign({},this.props,this.state,{handleClose:this.handleBillingModal,handleChange:this.handleChange,handleSubmit:this.handlePremiumFormSubmit})),l.a.createElement(De,Object.assign({},this.props,this.state,{handleClose:this.handlePayementSuccessModal})))}}]),t}(a.Component);n(232);function nt(){var e=Object(u.a)(["\n\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      /* border: 1px solid black; */\n\n    "]);return nt=function(){return e},e}function at(){var e=Object(u.a)(["\n      display: flex;\n      min-width: 100%;\n      min-height: 100vh;\n      padding-left: ",";\n      padding-right: 21px;\n      padding-bottom: 21px;\n      /* border: 1px solid black; */\n    "]);return at=function(){return e},e}var lt=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).getSearchParams=function(){var e=window.location.search.substring(1,window.location.search.length),t=(e=e.split("&")).map(function(e){return e.split("=")}),n={};for(var a in t)n[t[a][0]]=t[a][1];return n},n.setMobileState=function(){n.setState({appContainer:{mobile:!0},sidebar:{width:"very thin",visible:!0,mobile:!0},createAlert:{mobile:!0}})},n.setDesktopState=function(){n.setState({appContainer:{mobile:!1},sidebar:{visible:!0,mobile:!1},createAlert:{mobile:!1}})},n.authenticate=function(e){var t=e.token,a=e.type;t?(localStorage.setItem("ALERTIFI-USER-AUTHENTICATION-TYPE",a),localStorage.setItem("ALERTIFI-USER-AUTHENTICATION-TOKEN",t),n.setState({signedIn:!0,authorization:{type:a,token:t}}),window.location.href=Pe+"/Home?success=true"):alert("Unable to authenticate")},n.signOut=function(){n.setState({signedIn:!1,authorization:{type:"",token:""}}),localStorage.removeItem("ALERTIFI-USER-AUTHENTICATION-TYPE"),localStorage.removeItem("ALERTIFI-USER-AUTHENTICATION-TOKEN")},n.authenticateGoogleuser=function(){},n.authenticateGitHubUser=function(){},n.authenticateOAuthUser=function(){var e=n.getSearchParams(),t=e.success,a=e.access_token,l=e.type;if("true"==t){switch(l){case"google":v()({method:"get",url:je}).then(function(e){v()({method:"get",url:e.data.userinfo_endpoint,headers:{Authorization:"Bearer "+a}}).then(function(e){var t={username:e.data.name,email:e.data.email,authType:l};v()({method:"post",url:"".concat(Pe,"/oauth/signin"),headers:{Authorization:a},data:t}).then(function(e){var t={token:e.headers.authorization,type:l},a=e.data;n.setState({signedIn:!0,authorization:t,user:a}),localStorage.setItem("ALERTIFI-USER-AUTHENTICATION-TOKEN",t.token),localStorage.setItem("ALERTIFI-USER-AUTHENTICATION-TYPE",t.type)}).catch(console.log)}).catch(console.log)}).catch(console.log);break;case"github":v()({method:"get",url:"https://api.github.com/user",headers:{Authorization:"token "+a}}).then(function(e){var t={_id:e.data.id,username:e.data.login,email:e.data.email,authType:l};v()({method:"post",url:"".concat(Pe,"/oauth/signin"),headers:{Authorization:a},data:t}).then(function(e){var t={token:e.headers.authorization,type:l},a=e.data;n.setState({signedIn:!0,authorization:t,user:a}),localStorage.setItem("ALERTIFI-USER-AUTHENTICATION-TOKEN",t.token),localStorage.setItem("ALERTIFI-USER-AUTHENTICATION-TYPE",t.type)}).catch(console.log)}).catch(console.log)}n.setState({signedInModal:{open:!0}})}},n.verifyOAuthUser=function(){var e={type:localStorage.getItem("ALERTIFI-USER-AUTHENTICATION-TYPE"),token:localStorage.getItem("ALERTIFI-USER-AUTHENTICATION-TOKEN")},t=e.type,a=e.token;if(a)switch(t){case"alertifi":v.a.get(Pe+"/api/users/verify",{headers:{Authorization:a}}).then(function(t){var a=t.data;n.setState({signedIn:!0,authorization:e}),n.setState({user:a})}).catch(function(e){console.log(e)});break;case"google":v()({method:"get",url:je}).then(function(e){v()({method:"get",url:e.data.userinfo_endpoint,headers:{Authorization:"Bearer "+a}}).then(function(e){console.log(e.data);var l={username:e.data.name,email:e.data.email,authType:t};v()({method:"post",url:"".concat(Pe,"/oauth/signin"),headers:{Authorization:a},data:l}).then(function(e){var a={token:e.headers.Authorization,type:t},l=e.data;n.setState({signedIn:!0,authorization:a,user:l})}).catch(console.log)}).catch(console.log)}).catch(console.log);break;case"github":v()({method:"get",url:"https://api.github.com/user",headers:{Authorization:"token "+a}}).then(function(e){var l={_id:e.data.id,username:e.data.login,email:e.data.email,authType:t};v()({method:"post",url:"".concat(Pe,"/oauth/signin"),headers:{Authorization:a},data:l}).then(function(e){var a={token:e.headers.Authorization,type:t},l=e.data;n.setState({signedIn:!0,authorization:a,user:l})}).catch(console.log)}).catch(console.log)}},n.verifyAlertifiUser=function(){var e=n.getSearchParams(),t=(e.success,e.token);t&&v()({method:"get",url:"".concat(Pe,"/api/users/verify"),headers:{Authorization:t}}).then(function(e){var a=e.data;localStorage.setItem("ALERTIFI-USER-AUTHENTICATION-TYPE","alertifi"),localStorage.setItem("ALERTIFI-USER-AUTHENTICATION-TOKEN",t);var l={type:"alertifi",token:t};n.setState({signedIn:!0,signedInModal:{open:!0},authorization:l,user:a})}).catch(console.log)},n.state={signedIn:!1,authorization:{type:"",token:""},user:{_id:"",username:"",email:"",profileImg:"",firstName:"",lastName:"",accountType:"",alerts:[{items:[{contactInfo:{firstName:"",homePhone:"",cellPhone:""},pageStats:{expirationDate:"",favorited:"",listingNumber:"",memberSince:"",pageViews:"",sellerType:""},listingDetails:{description:"",location:"",price:"",title:""},images:[{small:"",large:""}]}]}]},appContainer:{mobile:!1},sidebar:{visible:!0,mobile:!1},createAlert:{mobile:!1}},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.authenticateOAuthUser(),this.verifyOAuthUser(),this.verifyAlertifiUser();var e=this.setMobileState,t=this.setDesktopState;window.innerWidth<=490&&e(),window.addEventListener("resize",function(){window.innerWidth<=490?e():t()})}},{key:"componentDidUpdate",value:function(){console.log(this.state.user)}},{key:"render",value:function(){var e=this,t=this.state.appContainer.mobile,n=f.a.div(at(),t?"78px":"170px"),a=f.a.div(nt());return l.a.createElement(n,null,l.a.createElement(E.a,null,l.a.createElement(ee,Object.assign({signedIn:this.state.signedIn,signOut:this.signOut},this.state.sidebar)),l.a.createElement(tt,Object.assign({getSearchParams:this.getSearchParams},this.state,{handleChange:this.handleChange})),l.a.createElement(a,null,l.a.createElement(Y,null),l.a.createElement(I.a,{path:"/Home",render:function(){return l.a.createElement(Je,e.state)}}),l.a.createElement(I.a,{path:"/AlertFeed",render:function(){return l.a.createElement($e,e.state)}}),l.a.createElement(I.a,{path:"/CreateAlert",render:function(){return l.a.createElement(Qe,e.state)}}),l.a.createElement(I.a,{path:"/Settings",render:function(){return l.a.createElement(Xe,e.state)}}),l.a.createElement(I.a,{path:"/SignIn",render:function(){return l.a.createElement(et,{authenticate:e.authenticate,renderForm:"SignIn"})}}),l.a.createElement(I.a,{path:"/SignUp",render:function(){return l.a.createElement(et,{authenticate:e.authenticate,renderForm:"SignUp"})}}))))}}]),t}(a.Component),it=Object(o.c)(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&arguments[1]},Object(o.a)(s.a));r.a.render(l.a.createElement(c.a,{store:it},l.a.createElement(lt,null)),document.getElementById("root"))}},[[272,1,2]]]);
//# sourceMappingURL=main.44ac093e.chunk.js.map